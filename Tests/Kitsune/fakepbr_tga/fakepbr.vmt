// -------------------------------------------------------------------------------------
// Fake-PBR version 3
// Changes:
//   - Uses $color2 to darken metallic surface and use phongalbedotint 1 as 
//   the phongtint pre-$color2 is preserved giving a more sheen color look
//   - Uses envmap and using the normal map alpha as the mask
//   - metal map is no longer added on the inverted roughness map on the red channel
//   of phongexponenttexture
// 
// Issues:
//   - Due to the use of the basetexture alpha for color darken, transparency is not
//   supported, use version 2 Fake-PBR or use $phongtint to manually set color tint for
//   the entire texture assuming they are similar in physical surface.
// -------------------------------------------------------------------------------------
vertexlitgeneric
{
    $basetexture "models/dev/pbr_sphere/fakepbr_d"
    $bumpmap "models/dev/pbr_sphere/fakepbr_n"
    $lightwarptexture "models/characters/toppi/shared/pbr_warp_default"
    $phong 1
    $phongboost 5
    $phongalbedotint 1
    $phongfresnelranges "[0.5 1 2]"
    $phongexponenttexture "models/dev/pbr_sphere/fakepbr_e"
    $halflambert 1
    $color2 "[.18 .18 .18]"
    $blendtintbybasealpha 1
    $envmap env_cubemap
    $envmaptint "[.3 .3 .3]"
    $envmapfresnel 0
    $normalmapalphaenvmapmask 1
}